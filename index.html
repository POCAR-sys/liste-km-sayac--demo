<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TRCC Liste Demo + KM Sayacı</title>
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet">
<style>
/* Küçük eklemeler */
#kmPanel { margin-top:20px; }
#kmScoreboard tr:first-child { background: gold; }
</style>
</head>
<body>
<div class="wrapper">
<nav id="sidebar" style="background-color:black; color:white;">
<div class="sidebar-header"><a href="#"><img src="https://via.placeholder.com/150x50?text=Logo" width="100%"></a></div>
<ul class="list-unstyled components">
<h5 class="text-center">Hoş Geldin <b>POCAR</b></h5>
<li><a href="#" aria-expanded="false"><i class="glyphicon glyphicon-home"></i> Anasayfa</a></li>
<li><a href="#"> <i class="glyphicon glyphicon-align-left"></i>Tüm Üyeler</a></li>
<li><a href="#"> <i class="glyphicon glyphicon-trash"></i>Silinen Üyeler</a></li>
<li><a href="#"> <i class="glyphicon glyphicon-warning-sign"></i>Eksik Üye Verileri</a></li>
<hr>
<li><a href="#" id="bolgeButton"> <i class="glyphicon glyphicon-road"></i>Bölgeler</a></li>
<li><a href="#" id="kmButton"> <i class="glyphicon glyphicon-road"></i>KM Sayacı</a></li>
<li><a href="#"> <i class="glyphicon glyphicon-search"></i>Nick Sorgula</a></li>
<li><a href="#"> <i class="glyphicon glyphicon-tint"></i>Kan Grubu Sorgula</a></li>
<li><a href="#"> <i class="glyphicon glyphicon-log-out"></i>Çıkış</a></li>
</ul>
</nav>

<div id="content" style="padding:20px;">
<h1>TRCC Güncel Liste (Demo)</h1>
<table id="sorted" class="table table-striped">
<thead><tr><th>Şehir</th><th>Ad - Soyad</th><th>Nick</th><th>Görevi</th></tr></thead>
<tbody>
<tr><td>BANDIRMA</td><td>Ayberk Pocar</td><td>POCAR</td><td>Sayman</td></tr>
<tr><td>BANDIRMA</td><td>Mete Kılıç</td><td>METEI</td><td>Genç Riders</td></tr>
<tr><td>BANDIRMA</td><td>Erdem Duru</td><td>ZOLTAR</td><td>Başkan</td></tr>
<tr><td>BANDIRMA</td><td>Emir Arslan</td><td>BAZAR</td><td>Yol Kaptanı</td></tr>
<tr><td>BANDIRMA</td><td>Yunus Emre Sulanç</td><td>EDISON</td><td>Koordinatör</td></tr>
<tr><td>BANDIRMA</td><td>Doğukan Günden</td><td>BANDIT</td><td>Prospect</td></tr>
</tbody>
</table>

<!-- KM Sayacı Paneli -->
<div id="kmPanel" style="display:none;">
<h2>KM Sayacı</h2>
<form id="kmForm">
<label>Üye Nick:</label>
<select id="nickSelect" class="form-control">
<option value="POCAR">POCAR</option>
<option value="METEI">METEI</option>
<option value="ZOLTAR">ZOLTAR</option>
<option value="BAZAR">BAZAR</option>
<option value="EDISON">EDISON</option>
<option value="BANDIT">BANDIT</option>
</select>
<label>Tarih:</label>
<input type="date" id="dateInput" class="form-control">
<label>KM:</label>
<input type="number" id="kmInput" class="form-control" min="1">
<br>
<button type="button" class="btn btn-primary" id="addKmBtn">Ekle</button>
</form>

<h3>Scoreboard</h3>
<table class="table table-striped" id="kmScoreboard">
<thead><tr><th>Nick</th><th>Toplam KM</th></tr></thead>
<tbody></tbody>
</table>
</div>

</div>
</div>

<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
<script>
const kmButton = document.getElementById('kmButton');
const kmPanel = document.getElementById('kmPanel');
const sortedTable = document.getElementById('sorted');

const addKmBtn = document.getElementById('addKmBtn');
const nickSelect = document.getElementById('nickSelect');
const kmInput = document.getElementById('kmInput');
const scoreBody = document.querySelector('#kmScoreboard tbody');

let scores = {};

kmButton.addEventListener('click', ()=>{
  kmPanel.style.display='block';
  sortedTable.style.display='none';
});

addKmBtn.addEventListener('click', ()=>{
  const nick = nickSelect.value;
  const km = parseInt(kmInput.value);
  if(!nick || !km || km <=0) { alert('Geçerli değer girin'); return; }
  scores[nick] = (scores[nick] || 0) + km;

  // Tabloda güncelle
  scoreBody.innerHTML = '';
  Object.entries(scores).sort((a,b)=>b[1]-a[1]).forEach(([n,v],i)=>{
    const tr = document.createElement('tr');
    if(i==0) tr.style.background='gold';
    tr.innerHTML=`<td>${n}</td><td>${v}</td>`;
    scoreBody.appendChild(tr);
  });

  kmInput.value='';
});
</script>
</body>
</html>
